Para evitar que os painÃ©is fiquem vazios no Grafana por ausÃªncia de dados em tempo real (ex: RedisAI ainda nÃ£o estÃ¡ recebendo requisiÃ§Ãµes), vocÃª pode usar algumas estratÃ©gias no PromQL para garantir que os painÃ©is:
ApareÃ§am com uma linha zerada (0) mesmo sem dados reais.
Continuem funcionando normalmente quando os dados comeÃ§arem a chegar.
NÃ£o quebrem os alertas ou exibam â€œNo Dataâ€.

ğŸ”§ Como aplicar nos seus casos:
1. RedisAI
rate(redisai_commands_total{projeto="$projeto", environment="$environment", instance="$instance"}[5m]) or vector(0)

2. OLLaMA
rate(ollama_requests_total{projeto="$projeto", environment="$environment", instance="$instance"}[5m]) or vector(0)

3. LLaMA
rate(llama_inferences_total{projeto="$projeto", environment="$environment", instance="$instance"}[5m]) or vector(0)

4. GLPi (SIA)
rate(glpi_tickets_created_total{projeto="$projeto", environment="$environment", instance="$instance"}[5m]) or vector(0)

ğŸ“Œ O que or vector(0) faz?
Garante que, se a mÃ©trica nÃ£o existir ou nÃ£o estiver emitindo dados, o Prometheus retorne 0.
Isso faz com que o painel nÃ£o fique em branco ou com erro.
Quando a mÃ©trica aparecer de verdade, ela substitui o 0.
